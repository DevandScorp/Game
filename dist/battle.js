!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(t);var r=function(){function e(t,n,i,r,s,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=n,this.size=i,this.speed="number"==typeof r?r:0,this.frames=s,this.index=0,this.url=t,this.dir=a||"horizontal",this.once=o}var t,n,r;return t=e,(n=[{key:"update",value:function(e){this.index+=this.speed*e}},{key:"render",value:function(e,t){var n;if(this.speed>0){var i=this.frames.length,r=Math.floor(this.index);if(n=this.frames[r%i],this.once&&r>=i)return void(this.done=!0)}else n=0;var s=this.pos[0];s+=n*this.size[0],e.drawImage(t.get(this.url),s,this.pos[1],this.size[0],this.size[1],0,0,this.size[0],this.size[1])}}])&&i(t.prototype,n),r&&i(t,r),e}();function s(e){var t=new(window.AudioContext||window.webkitAudioContext),n=t.createBufferSource();fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){t.decodeAudioData(e,function(e){n.buffer=e,n.connect(t.destination)})}).then(function(){return n.start(0)}).catch(function(e){return console.log(e)})}function a(e,t){e.style.width="".concat(t,"%"),e.innerHTML="".concat(1*t,"%")}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resources=i,this.canvas=t,this.ctx=n,this.bulletSpeed=500,this.bullets=[],this.enemy=e.getEnemySprites(),this.isDamaged=!1,this.isHealed=!1,this.player={sprite:new r("img/knight.png",[0,0],[256,256],10,[0,1,2,3,4,5,6])},this.player.pos=[25,this.canvas.height/2-this.player.sprite.size[0]/2],this.damage={pos:[25,this.canvas.height/2-this.player.sprite.size[0]/2],sprite:new r("img/explosion.png",[0,0],[256,256],15,[0,1,2,3,4,5,6])},this.heal={pos:[25,this.canvas.height/2-this.player.sprite.size[0]/2],sprite:new r("img/heal.png",[0,0],[256,256],10,[0,1,2,3,4,5,6])},this.orkHealth=100,this.heroHealth=100,this.heroClassElement=document.querySelector(".heroLife"),this.orkClassElement=document.querySelector(".orkLife")}var t,n,i;return t=e,i=[{key:"getEnemySprites",value:function(){var t={pos:[0,0],sprite:new r("img/orkSprite.png",[220*e.getRandomInt(0,3),935],[220,240])},n={pos:[0,0],sprite:new r("img/orkSprite.png",[85*e.getRandomInt(0,3),0],[85,120])},i={pos:[0,0],sprite:new r("img/orkSprite.png",[85*e.getRandomInt(0,3),120],[85,120])},s={pos:[0,0],sprite:new r("img/orkSprite.png",[219*e.getRandomInt(0,3),240],[219,282])},a={pos:[0,0],sprite:new r("img/orkSprite.png",[165*e.getRandomInt(0,3),720],[165,210])};return[i,n,s,t,{pos:[0,0],sprite:new r("img/orkSprite.png",[220*e.getRandomInt(0,3),525],[220,195])},a]}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}}],(n=[{key:"makeShot",value:function(){var e=this,t=this.player.pos[0]+this.player.sprite.size[0]/2,n=this.player.pos[1];this.player.sprite=new r("img/knightAttack.png",[0,0],[256,256],15,[0,1,2,3,4,5]),setTimeout(function(){e.player.sprite=new r("img/knight.png",[0,0],[256,256],10,[0,1,2,3,4,5]),e.bullets.push({pos:[t,n],sprite:new r("img/fire.png",[0,0],[256,256],10,[0,1,2,3,4,5])})},300),s("../game/sounds/iceball.wav")}},{key:"attackHero",value:function(){var e=this;this.heroHealth-=25,a(this.heroClassElement,this.heroHealth),this.isDamaged=!0,this.player.sprite=new r("img/damage.png",[0,0],[256,256],15,[0,1,2,3,4,5]),setTimeout(function(){e.player.sprite=new r("img/knight.png",[0,0],[256,256],10,[0,1,2,3,4,5]),e.isDamaged=!1},300),s("../game/sounds/qubodup-BangShort.ogg")}},{key:"healHero",value:function(){var e=this;100!==this.heroHealth&&(this.heroHealth+=25,a(this.heroClassElement,this.heroHealth)),this.isHealed=!0,setTimeout(function(){e.isHealed=!1},1e3),s("../game/sounds/blessing.ogg")}},{key:"updateEntities",value:function(e){this.player.sprite.update(e),this.enemy.forEach(function(t){return t.sprite.update(e)}),this.heal.sprite.update(e),this.damage.sprite.update(e);for(var t=0;t<this.bullets.length;t+=1)this.bullets[t].pos[0]+=this.bulletSpeed*e,this.bullets[t].sprite.update(e),this.bullets[t].pos[0]>=this.enemy[2].pos[0]&&(this.orkHealth-=25,a(this.orkClassElement,this.orkHealth),this.bullets.splice(t,1),t-=1);this.heroHealth||(alert("Lose"),this.reset()),this.orkHealth||(alert("Win"),this.reset())}},{key:"renderEntity",value:function(e){this.ctx.save(),this.ctx.translate(e.pos[0],e.pos[1]),e.sprite.render(this.ctx,this.resources),this.ctx.restore()}},{key:"render",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderEntity(this.player),this.isDamaged&&this.renderEntity(this.damage),this.isHealed&&this.renderEntity(this.heal),this.renderEntities(this.enemy),this.renderEntities(this.bullets)}},{key:"renderEntities",value:function(e){for(var t=0;t<e.length;t+=1)this.renderEntity(e[t])}},{key:"reset",value:function(){var t;this.heroHealth=100,this.orkHealth=100,this.bullets=[],this.player.pos=[25,this.canvas.height/2-this.player.sprite.size[0]/2],this.damage.pos=[25,this.canvas.height/2-this.player.sprite.size[0]/2],this.heal.pos=[25,this.canvas.height/2-this.player.sprite.size[0]/2],this.enemy.splice(0,this.enemy.length),(t=this.enemy).push.apply(t,o(e.getEnemySprites()));var n=this.enemy[3].sprite.size[0],i=this.enemy[3].sprite.size[1],r=this.canvas.width,s=this.canvas.height;this.orkClassElement.style.width="100%",this.orkClassElement.innerHTML="100%",this.heroClassElement.style.width="100%",this.heroClassElement.innerHTML="100%",this.enemy[3].pos=[r-n-200,s/2-i/2],this.enemy[1].pos=[r-n-180,s/2-i/2+180],this.enemy[0].pos=[r-n-90,s/2-i/2+180],this.enemy[2].pos=[r-n-360,s/2-i/2+20],this.enemy[5].pos=[r-n-45,s/2-i/2+40],this.enemy[4].pos=[r-n-210,s/2-i/2-80]}}])&&h(t.prototype,n),i&&h(t,i),e}(),c={},u=[];function p(){var e=!0;return Object.keys(c).forEach(function(t){c.hasOwnProperty(t)&&!c[t]&&(e=!1)}),e}function d(e){if(c[e])return c[e];var t=new Image;t.onload=function(){c[e]=t,p()&&u.forEach(function(e){e()})},c[e]=!1,t.src=e}var m={load:function(e){e instanceof Array?e.forEach(function(e){d(e)}):d(e)},get:function(e){return c[e]},onReady:function(e){u.push(e)},isReady:p};function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=document.createElement("canvas");g.width=.75*window.innerWidth,g.height=.75*window.innerHeight,document.body.appendChild(g);var y=g.getContext("2d"),v=new l(g,y,m),w=0;function k(){var e=Date.now(),t=(e-w)/1e3;v.updateEntities(t),v.render(),w=e,requestAnimationFrame(k)}m.load(["img/heal.png","img/explosion.png","img/damage.png","img/knight.png","img/fire.png","img/knightAttack.png","img/orkSprite.png"]),m.onReady(function(){v.reset(),w=Date.now(),k()}),document.getElementById("arithmetics").onclick=function(){var e,t,n,i,r,s;localStorage.setItem("task","arithmetics");var a=f(function(){var e=["*","-","+","/"],t=l.getRandomInt(1,10),n=l.getRandomInt(1,10),i=e[l.getRandomInt(0,e.length)],r=0;switch(i){case"*":r=t*n;break;case"-":r=t-n;break;case"+":r=t+n;break;case"/":r=(t/n).toFixed(1)}return["Solve task: ",t,n,i,r,"Note: for division you have to write first number after comma"]}(),6);e=a[0],t=a[1],n=a[2],r=a[3],i=a[4],s=a[5],document.getElementById("taskModelLabel").innerHTML="".concat(e).concat(t).concat(r).concat(n),document.getElementById("hidden-result").value="".concat(i),document.getElementById("note").innerHTML="".concat(s)},document.getElementById("translate").onclick=function(){var e,t,n;localStorage.setItem("task","translate");var i=f(["Note: несколько вариантов перевода","Translate: ",fetch("./../../../src/components/translateEngToRU/dictionary.json").then(function(e){return e.json()})],3);e=i[0],t=i[1],n=i[2],console.log(n),n.then(function(e){var n=l.getRandomInt(0,e.dictionary.words.length),i=e.dictionary.words[n];document.getElementById("taskModelLabel").innerHTML="".concat(t).concat(i.english);var r=i.second?i.second:"";document.getElementById("hidden-result").value="".concat(i.first,",").concat(r)}),document.getElementById("note").innerHTML="".concat(e)},document.getElementById("submit").onclick=function(){var e=!1;switch(localStorage.getItem("task")){case"arithmetics":e=document.getElementById("hidden-result").value===document.getElementById("answer").value;break;case"translate":e=document.getElementById("hidden-result").value.split(",").filter(function(e){return e}).includes(document.getElementById("answer").value.toLowerCase())}e?v.makeShot():v.attackHero()},window.addEventListener("keydown",function(e){"Space"===e.code&&v.healHero()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmVlbi9nYW1lL2pzL3Nwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyZWVuL2dhbWUvanMvbXVzaWNIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JlZW4vZ2FtZS9qcy9jaGFuZ2VIZWFsdGhCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmVlbi9nYW1lL2pzL2ZpZ2h0SW50ZXJmYWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JlZW4vZ2FtZS9qcy9yZXNvdXJjZUhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmVlbi9nYW1lL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zaW1wbGVNYXRoL2NyZWF0ZVRhc2suanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdHJhbnNsYXRlRW5nVG9SVS90cmFuc2xhdGUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJTcHJpdGUiLCJ1cmwiLCJwb3MiLCJzaXplIiwic3BlZWQiLCJmcmFtZXMiLCJkaXIiLCJvbmNlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImluZGV4IiwiZHQiLCJ0eCIsInJlc291cmNlcyIsImZyYW1lIiwibWF4IiwibGVuZ3RoIiwiaWR4IiwiTWF0aCIsImZsb29yIiwiZG9uZSIsIngiLCJkcmF3SW1hZ2UiLCJtYWtlQVNvdW5kIiwicGF0aCIsImF1ZGlvQ3R4Iiwid2luZG93IiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0Iiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJhcnJheUJ1ZmZlciIsImJ1ZmZlciIsImRlY29kZUF1ZGlvRGF0YSIsImRlY29kZWREYXRhIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwic3RhcnQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1vdmVIZWFsdGgiLCJucGNFbGVtIiwic3R5bGUiLCJ3aWR0aCIsImNvbmNhdCIsImlubmVySFRNTCIsIkZpZ2h0SW50ZXJmYWNlIiwiY2FudmFzIiwiY3R4IiwiZmlnaHRJbnRlcmZhY2VfY2xhc3NDYWxsQ2hlY2siLCJidWxsZXRTcGVlZCIsImJ1bGxldHMiLCJlbmVteSIsImdldEVuZW15U3ByaXRlcyIsImlzRGFtYWdlZCIsImlzSGVhbGVkIiwicGxheWVyIiwic3ByaXRlIiwiaGVpZ2h0IiwiZGFtYWdlIiwiaGVhbCIsIm9ya0hlYWx0aCIsImhlcm9IZWFsdGgiLCJoZXJvQ2xhc3NFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib3JrQ2xhc3NFbGVtZW50Iiwib3JrQm9keSIsImdldFJhbmRvbUludCIsImxlZnRMZWciLCJyaWdodExlZyIsInJpZ2h0SGFuZCIsImxlZnRIYW5kIiwibWluIiwicmFuZG9tIiwiX3RoaXMiLCJ5Iiwic2V0VGltZW91dCIsInB1c2giLCJfdGhpczIiLCJfdGhpczMiLCJ1cGRhdGUiLCJmb3JFYWNoIiwiYSIsInNwbGljZSIsImFsZXJ0IiwicmVzZXQiLCJlbnRpdHkiLCJzYXZlIiwidHJhbnNsYXRlIiwicmVuZGVyIiwicmVzdG9yZSIsImNsZWFyUmVjdCIsInJlbmRlckVudGl0eSIsInJlbmRlckVudGl0aWVzIiwibGlzdCIsIl90aGlzJGVuZW15IiwiYXBwbHkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJib2R5U2l6ZVgiLCJib2R5U2l6ZVkiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsInJlc291cmNlQ2FjaGUiLCJyZWFkeUNhbGxiYWNrcyIsImlzUmVhZHkiLCJyZWFkeSIsImtleXMiLCJrIiwibG9hZFVSTCIsImltZyIsIkltYWdlIiwib25sb2FkIiwiZnVuYyIsInNyYyIsImxvYWQiLCJ1cmxPckFyciIsIkFycmF5Iiwib25SZWFkeSIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJnZXRDb250ZXh0IiwiZ2FtZSIsInJlc291cmNlSGFuZGxlciIsImxhc3RUaW1lIiwibWFpbiIsIm5vdyIsIkRhdGUiLCJ1cGRhdGVFbnRpdGllcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdldEVsZW1lbnRCeUlkIiwib25jbGljayIsImZpcnN0Iiwic2Vjb25kIiwicmVzdWx0Iiwic2lnbiIsInRhc2tOb3RlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIl9nZXRUYXNrMiIsIl9zbGljZWRUb0FycmF5Iiwic2lnbnMiLCJiIiwidG9GaXhlZCIsImdldFRhc2siLCJ0YXNrTmFtZSIsImRpY3Rpb25hcnkiLCJfZ2V0RGljdGlvbmFyeTIiLCJyZXMiLCJqc29uIiwid29yZHMiLCJ3b3JkIiwiZW5nbGlzaCIsInNvbHZlZCIsImdldEl0ZW0iLCJzcGxpdCIsImZpbHRlciIsImluY2x1ZGVzIiwidG9Mb3dlckNhc2UiLCJtYWtlU2hvdCIsImF0dGFja0hlcm8iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNvZGUiLCJoZWFsSGVybyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdB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QU8rSSxpQkFBaUIsVUFBVyxTQUFDQyxHQUNuQixVQUFYQSxFQUFFQyxNQUFvQnpDLEVBQUswQyxhQUM5QiIsImZpbGUiOiJiYXR0bGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGUge1xuICBjb25zdHJ1Y3Rvcih1cmwsIHBvcywgc2l6ZSwgc3BlZWQsIGZyYW1lcywgZGlyLCBvbmNlKSB7XG4gICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLnNwZWVkID0gdHlwZW9mIHNwZWVkID09PSAnbnVtYmVyJyA/IHNwZWVkIDogMDtcbiAgICB0aGlzLmZyYW1lcyA9IGZyYW1lcztcbiAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLmRpciA9IGRpciB8fCAnaG9yaXpvbnRhbCc7XG4gICAgdGhpcy5vbmNlID0gb25jZTtcbiAgfVxuXG4gIHVwZGF0ZShkdCkge1xuICAgIHRoaXMuaW5kZXggKz0gdGhpcy5zcGVlZCAqIGR0O1xuICB9XG5cbiAgcmVuZGVyKHR4LCByZXNvdXJjZXMpIHtcbiAgICBsZXQgZnJhbWU7XG5cbiAgICBpZiAodGhpcy5zcGVlZCA+IDApIHtcbiAgICAgIGNvbnN0IG1heCA9IHRoaXMuZnJhbWVzLmxlbmd0aDtcbiAgICAgIGNvbnN0IGlkeCA9IE1hdGguZmxvb3IodGhpcy5pbmRleCk7XG4gICAgICBmcmFtZSA9IHRoaXMuZnJhbWVzW2lkeCAlIG1heF07XG5cbiAgICAgIGlmICh0aGlzLm9uY2UgJiYgaWR4ID49IG1heCkge1xuICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lID0gMDtcbiAgICB9XG4gICAgbGV0IHggPSB0aGlzLnBvc1swXTtcbiAgICB4ICs9IGZyYW1lICogdGhpcy5zaXplWzBdO1xuICAgIHR4LmRyYXdJbWFnZShyZXNvdXJjZXMuZ2V0KHRoaXMudXJsKSxcbiAgICAgIHgsIHRoaXMucG9zWzFdLFxuICAgICAgdGhpcy5zaXplWzBdLCB0aGlzLnNpemVbMV0sXG4gICAgICAwLCAwLFxuICAgICAgdGhpcy5zaXplWzBdLCB0aGlzLnNpemVbMV0pO1xuICB9XG59XG4iLCIvKiogTG9hZCBhbmQgcGxheSBtdXNpYyBmaWxlICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlQVNvdW5kKHBhdGgpIHtcbiAgY29uc3QgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcbiAgY29uc3Qgc291cmNlID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gIGZldGNoKHBhdGgpXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAudGhlbigoYnVmZmVyKSA9PiB7XG4gICAgICBhdWRpb0N0eC5kZWNvZGVBdWRpb0RhdGEoYnVmZmVyLCAoZGVjb2RlZERhdGEpID0+IHtcbiAgICAgICAgc291cmNlLmJ1ZmZlciA9IGRlY29kZWREYXRhO1xuICAgICAgICBzb3VyY2UuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7XG4gICAgICB9KTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHNvdXJjZS5zdGFydCgwKSlcbiAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtb3ZlSGVhbHRoKG5wY0VsZW0sIHZhbHVlKSB7XG4gIG5wY0VsZW0uc3R5bGUud2lkdGggPSBgJHt2YWx1ZX0lYDtcbiAgbnBjRWxlbS5pbm5lckhUTUwgPSBgJHt2YWx1ZSAqIDF9JWA7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tYWxlcnQgKi9cbmltcG9ydCBTcHJpdGUgZnJvbSAnLi9zcHJpdGUnO1xuaW1wb3J0IG1ha2VBU291bmQgZnJvbSAnLi9tdXNpY0hhbmRsZXInO1xuaW1wb3J0IG1vdmVIZWFsdGggZnJvbSAnLi9jaGFuZ2VIZWFsdGhCYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaWdodEludGVyZmFjZSB7XG4gIGNvbnN0cnVjdG9yKGNhbnZhcywgY3R4LCByZXNvdXJjZXMpIHtcbiAgICB0aGlzLnJlc291cmNlcyA9IHJlc291cmNlcztcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICB0aGlzLmJ1bGxldFNwZWVkID0gNTAwO1xuICAgIHRoaXMuYnVsbGV0cyA9IFtdO1xuICAgIHRoaXMuZW5lbXkgPSBGaWdodEludGVyZmFjZS5nZXRFbmVteVNwcml0ZXMoKTtcbiAgICB0aGlzLmlzRGFtYWdlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNIZWFsZWQgPSBmYWxzZTtcblxuICAgIHRoaXMucGxheWVyID0ge1xuICAgICAgc3ByaXRlOiBuZXcgU3ByaXRlKCdpbWcva25pZ2h0LnBuZycsIFswLCAwXSwgWzI1NiwgMjU2XSwgMTAsIFswLCAxLCAyLCAzLCA0LCA1LCA2XSksXG4gICAgfTtcbiAgICB0aGlzLnBsYXllci5wb3MgPSBbMjUsIHRoaXMuY2FudmFzLmhlaWdodCAvIDIgLSB0aGlzLnBsYXllci5zcHJpdGUuc2l6ZVswXSAvIDJdO1xuICAgIHRoaXMuZGFtYWdlID0ge1xuICAgICAgcG9zOiBbMjUsIHRoaXMuY2FudmFzLmhlaWdodCAvIDIgLSB0aGlzLnBsYXllci5zcHJpdGUuc2l6ZVswXSAvIDJdLFxuICAgICAgc3ByaXRlOiBuZXcgU3ByaXRlKCdpbWcvZXhwbG9zaW9uLnBuZycsIFswLCAwXSwgWzI1NiwgMjU2XSwgMTUsIFswLCAxLCAyLCAzLCA0LCA1LCA2XSksXG4gICAgfTtcbiAgICB0aGlzLmhlYWwgPSB7XG4gICAgICBwb3M6IFsyNSwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiAtIHRoaXMucGxheWVyLnNwcml0ZS5zaXplWzBdIC8gMl0sXG4gICAgICBzcHJpdGU6IG5ldyBTcHJpdGUoJ2ltZy9oZWFsLnBuZycsIFswLCAwXSwgWzI1NiwgMjU2XSwgMTAsIFswLCAxLCAyLCAzLCA0LCA1LCA2XSksXG4gICAgfTtcbiAgICB0aGlzLm9ya0hlYWx0aCA9IDEwMDtcbiAgICB0aGlzLmhlcm9IZWFsdGggPSAxMDA7XG4gICAgdGhpcy5oZXJvQ2xhc3NFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9MaWZlJyk7XG4gICAgdGhpcy5vcmtDbGFzc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3JrTGlmZScpO1xuICB9XG5cbiAgc3RhdGljIGdldEVuZW15U3ByaXRlcygpIHtcbiAgICBjb25zdCBvcmtTcHJpdGVMb2NhdGlvbiA9ICdpbWcvb3JrU3ByaXRlLnBuZyc7XG4gICAgY29uc3Qgb3JrQm9keSA9IHtcbiAgICAgIHBvczogWzAsIDBdLFxuICAgICAgc3ByaXRlOlxuICAgICAgICAgIG5ldyBTcHJpdGUob3JrU3ByaXRlTG9jYXRpb24sIFsyMjAgKiBGaWdodEludGVyZmFjZS5nZXRSYW5kb21JbnQoMCwgMyksIDkzNV0sIFsyMjAsIDI0MF0pLFxuICAgIH07XG4gICAgY29uc3QgbGVmdExlZyA9IHtcbiAgICAgIHBvczogWzAsIDBdLFxuICAgICAgc3ByaXRlOlxuICAgICAgICAgIG5ldyBTcHJpdGUob3JrU3ByaXRlTG9jYXRpb24sIFs4NSAqIEZpZ2h0SW50ZXJmYWNlLmdldFJhbmRvbUludCgwLCAzKSwgMF0sIFs4NSwgMTIwXSksXG4gICAgfTtcbiAgICBjb25zdCByaWdodExlZyA9IHtcbiAgICAgIHBvczogWzAsIDBdLFxuICAgICAgc3ByaXRlOlxuICAgICAgICAgIG5ldyBTcHJpdGUob3JrU3ByaXRlTG9jYXRpb24sIFs4NSAqIEZpZ2h0SW50ZXJmYWNlLmdldFJhbmRvbUludCgwLCAzKSwgMTIwXSwgWzg1LCAxMjBdKSxcbiAgICB9O1xuICAgIGNvbnN0IHJpZ2h0SGFuZCA9IHtcbiAgICAgIHBvczogWzAsIDBdLFxuICAgICAgc3ByaXRlOlxuICAgICAgICAgIG5ldyBTcHJpdGUob3JrU3ByaXRlTG9jYXRpb24sIFsyMTkgKiBGaWdodEludGVyZmFjZS5nZXRSYW5kb21JbnQoMCwgMyksIDI0MF0sIFsyMTksIDI4Ml0pLFxuICAgIH07XG4gICAgY29uc3QgbGVmdEhhbmQgPSB7XG4gICAgICBwb3M6IFswLCAwXSxcbiAgICAgIHNwcml0ZTpcbiAgICAgICAgICBuZXcgU3ByaXRlKG9ya1Nwcml0ZUxvY2F0aW9uLCBbMTY1ICogRmlnaHRJbnRlcmZhY2UuZ2V0UmFuZG9tSW50KDAsIDMpLCA3MjBdLCBbMTY1LCAyMTBdKSxcbiAgICB9O1xuICAgIGNvbnN0IGhlYWQgPSB7XG4gICAgICBwb3M6IFswLCAwXSxcbiAgICAgIHNwcml0ZTpcbiAgICAgICAgICBuZXcgU3ByaXRlKG9ya1Nwcml0ZUxvY2F0aW9uLCBbMjIwICogRmlnaHRJbnRlcmZhY2UuZ2V0UmFuZG9tSW50KDAsIDMpLCA1MjVdLCBbMjIwLCAxOTVdKSxcbiAgICB9O1xuICAgIHJldHVybiBbcmlnaHRMZWcsIGxlZnRMZWcsIHJpZ2h0SGFuZCwgb3JrQm9keSwgaGVhZCwgbGVmdEhhbmRdO1xuICB9XG5cbiAgc3RhdGljIGdldFJhbmRvbUludChtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XG4gIH1cblxuICBtYWtlU2hvdCgpIHtcbiAgICBjb25zdCB4ID0gdGhpcy5wbGF5ZXIucG9zWzBdICsgdGhpcy5wbGF5ZXIuc3ByaXRlLnNpemVbMF0gLyAyO1xuICAgIGNvbnN0IHkgPSB0aGlzLnBsYXllci5wb3NbMV07XG5cbiAgICB0aGlzLnBsYXllci5zcHJpdGUgPSBuZXcgU3ByaXRlKCdpbWcva25pZ2h0QXR0YWNrLnBuZycsIFswLCAwXSwgWzI1NiwgMjU2XSwgMTUsIFswLCAxLCAyLCAzLCA0LCA1XSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnBsYXllci5zcHJpdGUgPSBuZXcgU3ByaXRlKCdpbWcva25pZ2h0LnBuZycsIFswLCAwXSwgWzI1NiwgMjU2XSwgMTAsIFswLCAxLCAyLCAzLCA0LCA1XSk7XG4gICAgICB0aGlzLmJ1bGxldHMucHVzaCh7XG4gICAgICAgIHBvczogW3gsIHldLFxuICAgICAgICBzcHJpdGU6IG5ldyBTcHJpdGUoJ2ltZy9maXJlLnBuZycsIFswLCAwXSwgWzI1NiwgMjU2XSwgMTAsIFswLCAxLCAyLCAzLCA0LCA1XSksXG4gICAgICB9KTtcbiAgICB9LCAzMDApO1xuICAgIG1ha2VBU291bmQoJy4uL2dhbWUvc291bmRzL2ljZWJhbGwud2F2Jyk7XG4gIH1cblxuICBhdHRhY2tIZXJvKCkge1xuICAgIHRoaXMuaGVyb0hlYWx0aCAtPSAyNTtcbiAgICBtb3ZlSGVhbHRoKHRoaXMuaGVyb0NsYXNzRWxlbWVudCwgdGhpcy5oZXJvSGVhbHRoKTtcbiAgICB0aGlzLmlzRGFtYWdlZCA9IHRydWU7XG4gICAgdGhpcy5wbGF5ZXIuc3ByaXRlID0gbmV3IFNwcml0ZSgnaW1nL2RhbWFnZS5wbmcnLCBbMCwgMF0sIFsyNTYsIDI1Nl0sIDE1LCBbMCwgMSwgMiwgMywgNCwgNV0pO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXIuc3ByaXRlID0gbmV3IFNwcml0ZSgnaW1nL2tuaWdodC5wbmcnLCBbMCwgMF0sIFsyNTYsIDI1Nl0sIDEwLCBbMCwgMSwgMiwgMywgNCwgNV0pO1xuICAgICAgdGhpcy5pc0RhbWFnZWQgPSBmYWxzZTtcbiAgICB9LCAzMDApO1xuICAgIG1ha2VBU291bmQoJy4uL2dhbWUvc291bmRzL3F1Ym9kdXAtQmFuZ1Nob3J0Lm9nZycpO1xuICB9XG5cbiAgaGVhbEhlcm8oKSB7XG4gICAgaWYgKHRoaXMuaGVyb0hlYWx0aCAhPT0gMTAwKSB7XG4gICAgICB0aGlzLmhlcm9IZWFsdGggKz0gMjU7XG4gICAgICBtb3ZlSGVhbHRoKHRoaXMuaGVyb0NsYXNzRWxlbWVudCwgdGhpcy5oZXJvSGVhbHRoKTtcbiAgICB9XG4gICAgdGhpcy5pc0hlYWxlZCA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmlzSGVhbGVkID0gZmFsc2U7XG4gICAgfSwgMTAwMCk7XG4gICAgbWFrZUFTb3VuZCgnLi4vZ2FtZS9zb3VuZHMvYmxlc3Npbmcub2dnJyk7XG4gIH1cblxuICB1cGRhdGVFbnRpdGllcyhkdCkge1xuICAgIHRoaXMucGxheWVyLnNwcml0ZS51cGRhdGUoZHQpO1xuXG4gICAgdGhpcy5lbmVteS5mb3JFYWNoKGEgPT4gYS5zcHJpdGUudXBkYXRlKGR0KSk7XG5cbiAgICB0aGlzLmhlYWwuc3ByaXRlLnVwZGF0ZShkdCk7XG4gICAgdGhpcy5kYW1hZ2Uuc3ByaXRlLnVwZGF0ZShkdCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYnVsbGV0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGhpcy5idWxsZXRzW2ldLnBvc1swXSArPSB0aGlzLmJ1bGxldFNwZWVkICogZHQ7XG4gICAgICB0aGlzLmJ1bGxldHNbaV0uc3ByaXRlLnVwZGF0ZShkdCk7XG4gICAgICBpZiAodGhpcy5idWxsZXRzW2ldLnBvc1swXSA+PSB0aGlzLmVuZW15WzJdLnBvc1swXSkge1xuICAgICAgICB0aGlzLm9ya0hlYWx0aCAtPSAyNTtcbiAgICAgICAgbW92ZUhlYWx0aCh0aGlzLm9ya0NsYXNzRWxlbWVudCwgdGhpcy5vcmtIZWFsdGgpO1xuICAgICAgICB0aGlzLmJ1bGxldHMuc3BsaWNlKGksIDEpO1xuICAgICAgICBpIC09IDE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5oZXJvSGVhbHRoKSB7XG4gICAgICBhbGVydCgnTG9zZScpO1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMub3JrSGVhbHRoKSB7XG4gICAgICBhbGVydCgnV2luJyk7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyRW50aXR5KGVudGl0eSkge1xuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICB0aGlzLmN0eC50cmFuc2xhdGUoZW50aXR5LnBvc1swXSwgZW50aXR5LnBvc1sxXSk7XG4gICAgZW50aXR5LnNwcml0ZS5yZW5kZXIodGhpcy5jdHgsIHRoaXMucmVzb3VyY2VzKTtcbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIHRoaXMucmVuZGVyRW50aXR5KHRoaXMucGxheWVyKTtcbiAgICBpZiAodGhpcy5pc0RhbWFnZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyRW50aXR5KHRoaXMuZGFtYWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNIZWFsZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyRW50aXR5KHRoaXMuaGVhbCk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyRW50aXRpZXModGhpcy5lbmVteSk7XG4gICAgdGhpcy5yZW5kZXJFbnRpdGllcyh0aGlzLmJ1bGxldHMpO1xuICB9XG5cbiAgcmVuZGVyRW50aXRpZXMobGlzdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGhpcy5yZW5kZXJFbnRpdHkobGlzdFtpXSk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5oZXJvSGVhbHRoID0gMTAwO1xuICAgIHRoaXMub3JrSGVhbHRoID0gMTAwO1xuXG4gICAgdGhpcy5idWxsZXRzID0gW107XG5cbiAgICB0aGlzLnBsYXllci5wb3MgPSBbMjUsIHRoaXMuY2FudmFzLmhlaWdodCAvIDIgLSB0aGlzLnBsYXllci5zcHJpdGUuc2l6ZVswXSAvIDJdO1xuICAgIHRoaXMuZGFtYWdlLnBvcyA9IFsyNSwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiAtIHRoaXMucGxheWVyLnNwcml0ZS5zaXplWzBdIC8gMl07XG4gICAgdGhpcy5oZWFsLnBvcyA9IFsyNSwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiAtIHRoaXMucGxheWVyLnNwcml0ZS5zaXplWzBdIC8gMl07XG5cbiAgICB0aGlzLmVuZW15LnNwbGljZSgwLCB0aGlzLmVuZW15Lmxlbmd0aCk7XG4gICAgdGhpcy5lbmVteS5wdXNoKC4uLkZpZ2h0SW50ZXJmYWNlLmdldEVuZW15U3ByaXRlcygpKTtcblxuICAgIGNvbnN0IGJvZHlTaXplWCA9IHRoaXMuZW5lbXlbM10uc3ByaXRlLnNpemVbMF07XG4gICAgY29uc3QgYm9keVNpemVZID0gdGhpcy5lbmVteVszXS5zcHJpdGUuc2l6ZVsxXTtcbiAgICBjb25zdCBjYW52YXNXaWR0aCA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcblxuICAgIHRoaXMub3JrQ2xhc3NFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMub3JrQ2xhc3NFbGVtZW50LmlubmVySFRNTCA9ICcxMDAlJztcbiAgICB0aGlzLmhlcm9DbGFzc0VsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5oZXJvQ2xhc3NFbGVtZW50LmlubmVySFRNTCA9ICcxMDAlJztcblxuICAgIHRoaXMuZW5lbXlbM10ucG9zID0gW2NhbnZhc1dpZHRoIC0gYm9keVNpemVYIC0gMjAwLCBjYW52YXNIZWlnaHQgLyAyIC0gYm9keVNpemVZIC8gMl07XG4gICAgdGhpcy5lbmVteVsxXS5wb3MgPSBbY2FudmFzV2lkdGggLSBib2R5U2l6ZVggLSAxODAsIGNhbnZhc0hlaWdodCAvIDIgLSBib2R5U2l6ZVkgLyAyICsgMTgwXTtcbiAgICB0aGlzLmVuZW15WzBdLnBvcyA9IFtjYW52YXNXaWR0aCAtIGJvZHlTaXplWCAtIDkwLCBjYW52YXNIZWlnaHQgLyAyIC0gYm9keVNpemVZIC8gMiArIDE4MF07XG4gICAgdGhpcy5lbmVteVsyXS5wb3MgPSBbY2FudmFzV2lkdGggLSBib2R5U2l6ZVggLSAzNjAsIGNhbnZhc0hlaWdodCAvIDIgLSBib2R5U2l6ZVkgLyAyICsgMjBdO1xuICAgIHRoaXMuZW5lbXlbNV0ucG9zID0gW2NhbnZhc1dpZHRoIC0gYm9keVNpemVYIC0gNDUsIGNhbnZhc0hlaWdodCAvIDIgLSBib2R5U2l6ZVkgLyAyICsgNDBdO1xuICAgIHRoaXMuZW5lbXlbNF0ucG9zID0gW2NhbnZhc1dpZHRoIC0gYm9keVNpemVYIC0gMjEwLCBjYW52YXNIZWlnaHQgLyAyIC0gYm9keVNpemVZIC8gMiAtIDgwXTtcbiAgfVxufVxuIiwiXG5jb25zdCByZXNvdXJjZUNhY2hlID0ge307XG5jb25zdCByZWFkeUNhbGxiYWNrcyA9IFtdO1xuXG5cbmZ1bmN0aW9uIGlzUmVhZHkoKSB7XG4gIGxldCByZWFkeSA9IHRydWU7XG4gIE9iamVjdC5rZXlzKHJlc291cmNlQ2FjaGUpLmZvckVhY2goKGspID0+IHtcbiAgICBpZiAocmVzb3VyY2VDYWNoZS5oYXNPd25Qcm9wZXJ0eShrKVxuICAgICAgICAgICAgICAmJiAhcmVzb3VyY2VDYWNoZVtrXSkge1xuICAgICAgcmVhZHkgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVhZHk7XG59XG5cbmZ1bmN0aW9uIGxvYWRVUkwodXJsKSB7XG4gIGlmIChyZXNvdXJjZUNhY2hlW3VybF0pIHtcbiAgICByZXR1cm4gcmVzb3VyY2VDYWNoZVt1cmxdO1xuICB9XG5cbiAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgcmVzb3VyY2VDYWNoZVt1cmxdID0gaW1nO1xuICAgIGlmIChpc1JlYWR5KCkpIHtcbiAgICAgIHJlYWR5Q2FsbGJhY2tzLmZvckVhY2goKGZ1bmMpID0+IHsgZnVuYygpOyB9KTtcbiAgICB9XG4gIH07XG4gIHJlc291cmNlQ2FjaGVbdXJsXSA9IGZhbHNlO1xuICBpbWcuc3JjID0gdXJsO1xufVxuLy8gTG9hZCBhbiBpbWFnZSB1cmwgb3IgYW4gYXJyYXkgb2YgaW1hZ2UgdXJsc1xuZnVuY3Rpb24gbG9hZCh1cmxPckFycikge1xuICBpZiAodXJsT3JBcnIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIHVybE9yQXJyLmZvckVhY2goKHVybCkgPT4ge1xuICAgICAgbG9hZFVSTCh1cmwpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGxvYWRVUkwodXJsT3JBcnIpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gZ2V0KHVybCkge1xuICByZXR1cm4gcmVzb3VyY2VDYWNoZVt1cmxdO1xufVxuXG5mdW5jdGlvbiBvblJlYWR5KGZ1bmMpIHtcbiAgcmVhZHlDYWxsYmFja3MucHVzaChmdW5jKTtcbn1cbmNvbnN0IHJlc291cmNlcyA9IHtcbiAgbG9hZCxcbiAgZ2V0LFxuICBvblJlYWR5LFxuICBpc1JlYWR5LFxufTtcbmV4cG9ydCBkZWZhdWx0IHJlc291cmNlcztcbiIsIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmltcG9ydCBGaWdodEludGVyZmFjZSBmcm9tICcuL2ZpZ2h0SW50ZXJmYWNlJztcbmltcG9ydCByZXNvdXJjZUhhbmRsZXIgZnJvbSAnLi9yZXNvdXJjZUhhbmRsZXInO1xuaW1wb3J0IGdldFRhc2sgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9zaW1wbGVNYXRoL2NyZWF0ZVRhc2snO1xuaW1wb3J0IGdldERpY3Rpb25hcnkgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy90cmFuc2xhdGVFbmdUb1JVL3RyYW5zbGF0ZSc7XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggKiAwLjc1O1xuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuNzU7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuY29uc3QgZ2FtZSA9IG5ldyBGaWdodEludGVyZmFjZShjYW52YXMsIGN0eCwgcmVzb3VyY2VIYW5kbGVyKTtcblxubGV0IGxhc3RUaW1lID0gMDtcbmZ1bmN0aW9uIG1haW4oKSB7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IGR0ID0gKG5vdyAtIGxhc3RUaW1lKSAvIDEwMDAuMDtcbiAgZ2FtZS51cGRhdGVFbnRpdGllcyhkdCk7XG4gIGdhbWUucmVuZGVyKCk7XG4gIGxhc3RUaW1lID0gbm93O1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbik7XG59XG5mdW5jdGlvbiBpbml0KCkge1xuICBnYW1lLnJlc2V0KCk7XG4gIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgbWFpbigpO1xufVxuXG5yZXNvdXJjZUhhbmRsZXIubG9hZChbXG4gICdpbWcvaGVhbC5wbmcnLFxuICAnaW1nL2V4cGxvc2lvbi5wbmcnLFxuICAnaW1nL2RhbWFnZS5wbmcnLFxuICAnaW1nL2tuaWdodC5wbmcnLFxuICAnaW1nL2ZpcmUucG5nJyxcbiAgJ2ltZy9rbmlnaHRBdHRhY2sucG5nJyxcbiAgJ2ltZy9vcmtTcHJpdGUucG5nJyxcbl0pO1xucmVzb3VyY2VIYW5kbGVyLm9uUmVhZHkoaW5pdCk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcml0aG1ldGljcycpLm9uY2xpY2sgPSAoKSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrJywgJ2FyaXRobWV0aWNzJyk7XG4gIGxldCBuYW1lO1xuICBsZXQgZmlyc3Q7XG4gIGxldCBzZWNvbmQ7XG4gIGxldCByZXN1bHQ7XG4gIGxldCBzaWduO1xuICBsZXQgdGFza05vdGU7XG4gIFtuYW1lLCBmaXJzdCwgc2Vjb25kLCBzaWduLCByZXN1bHQsIHRhc2tOb3RlXSA9IGdldFRhc2soKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tNb2RlbExhYmVsJykuaW5uZXJIVE1MID0gYCR7bmFtZX0ke2ZpcnN0fSR7c2lnbn0ke3NlY29uZH1gO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZGVuLXJlc3VsdCcpLnZhbHVlID0gYCR7cmVzdWx0fWA7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlJykuaW5uZXJIVE1MID0gYCR7dGFza05vdGV9YDtcbn07XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJhbnNsYXRlJykub25jbGljayA9ICgpID0+IHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rhc2snLCAndHJhbnNsYXRlJyk7XG4gIGxldCB0YXNrTm90ZTtcbiAgbGV0IHRhc2tOYW1lO1xuICBsZXQgZGljdGlvbmFyeTtcbiAgW3Rhc2tOb3RlLCB0YXNrTmFtZSwgZGljdGlvbmFyeV0gPSBnZXREaWN0aW9uYXJ5KCk7XG4gIGNvbnNvbGUubG9nKGRpY3Rpb25hcnkpO1xuICBkaWN0aW9uYXJ5LnRoZW4oKHJlcykgPT4ge1xuICAgIGxldCBpID0gRmlnaHRJbnRlcmZhY2UuZ2V0UmFuZG9tSW50KDAsIHJlcy5kaWN0aW9uYXJ5LndvcmRzLmxlbmd0aCk7XG4gICAgbGV0IHdvcmQgPSByZXMuZGljdGlvbmFyeS53b3Jkc1tpXTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza01vZGVsTGFiZWwnKS5pbm5lckhUTUwgPSBgJHt0YXNrTmFtZX0ke3dvcmQuZW5nbGlzaH1gO1xuICAgIGxldCBzZWNvbmQgPSB3b3JkLnNlY29uZCA/IHdvcmQuc2Vjb25kIDogJyc7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGRlbi1yZXN1bHQnKS52YWx1ZSA9IGAke3dvcmQuZmlyc3R9LCR7c2Vjb25kfWA7XG4gIH0pO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZScpLmlubmVySFRNTCA9IGAke3Rhc2tOb3RlfWA7XG59O1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdCcpLm9uY2xpY2sgPSAoKSA9PiB7XG4gIGxldCBzb2x2ZWQgPSBmYWxzZTtcbiAgc3dpdGNoIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGFzaycpKSB7XG4gICAgY2FzZSAnYXJpdGhtZXRpY3MnOlxuICAgICAgc29sdmVkID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRkZW4tcmVzdWx0JykudmFsdWUgPT09IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbnN3ZXInKS52YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0cmFuc2xhdGUnOlxuICAgICAgc29sdmVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGRlbi1yZXN1bHQnKS52YWx1ZS5zcGxpdCgnLCcpXG4gICAgICAgIC5maWx0ZXIoYSA9PiBhKS5pbmNsdWRlcyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5zd2VyJykudmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cbiAgaWYgKHNvbHZlZCkge1xuICAgIGdhbWUubWFrZVNob3QoKTtcbiAgfSBlbHNlIHtcbiAgICBnYW1lLmF0dGFja0hlcm8oKTtcbiAgfVxufTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJykgeyBnYW1lLmhlYWxIZXJvKCk7IH1cbn0sIGZhbHNlKTtcbiIsImltcG9ydCBTcHJpdGUgZnJvbSAnLi4vLi4vc2NyZWVuL2dhbWUvanMvZmlnaHRJbnRlcmZhY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUYXNrKCkge1xuICBjb25zdCBzaWducyA9IFsnKicsICctJywgJysnLCAnLyddO1xuICBjb25zdCBhID0gU3ByaXRlLmdldFJhbmRvbUludCgxLCAxMCk7XG4gIGNvbnN0IGIgPSBTcHJpdGUuZ2V0UmFuZG9tSW50KDEsIDEwKTtcbiAgY29uc3Qgc2lnbiA9IHNpZ25zW1Nwcml0ZS5nZXRSYW5kb21JbnQoMCwgc2lnbnMubGVuZ3RoKV07XG4gIGNvbnN0IHRhc2tOYW1lID0gJ1NvbHZlIHRhc2s6ICc7XG4gIGNvbnN0IHRhc2tOb3RlID0gJ05vdGU6IGZvciBkaXZpc2lvbiB5b3UgaGF2ZSB0byB3cml0ZSBmaXJzdCBudW1iZXIgYWZ0ZXIgY29tbWEnO1xuICBsZXQgcmVzdWx0ID0gMDtcbiAgc3dpdGNoIChzaWduKSB7XG4gICAgY2FzZSAnKic6XG4gICAgICByZXN1bHQgPSBhICogYjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJy0nOlxuICAgICAgcmVzdWx0ID0gYSAtIGI7XG4gICAgICBicmVhaztcbiAgICBjYXNlICcrJzpcbiAgICAgIHJlc3VsdCA9IGEgKyBiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnLyc6XG4gICAgICByZXN1bHQgPSAoYSAvIGIpLnRvRml4ZWQoMSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIFt0YXNrTmFtZSwgYSwgYiwgc2lnbiwgcmVzdWx0LCB0YXNrTm90ZV07XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RGljdGlvbmFyeSgpIHtcbiAgY29uc3QgdGFza05hbWUgPSAnVHJhbnNsYXRlOiAnO1xuICBjb25zdCB0YXNrTm90ZSA9ICdOb3RlOiDQvdC10YHQutC+0LvRjNC60L4g0LLQsNGA0LjQsNC90YLQvtCyINC/0LXRgNC10LLQvtC00LAnO1xuICBjb25zdCBkaWN0aW9uYXJ5ID0gZmV0Y2goJy4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvdHJhbnNsYXRlRW5nVG9SVS9kaWN0aW9uYXJ5Lmpzb24nKVxuICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcbiAgcmV0dXJuIFt0YXNrTm90ZSwgdGFza05hbWUsIGRpY3Rpb25hcnldO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==